<div class='container px-5 px-sm-0'>
  <div class='row'>
    <div class='col-md-3'>
      <h2>User info</h2>
      <%= render 'users/info', user: current_user %>
      <h2 class="mt-3">New book</h2>
      <%= render 'form', book: @book %>
    </div>
    <div class='col-md-8 offset-md-1'>
     <% if user_signed_in? && controller.controller_name != 'homes' %>
      <div class="d-flex justify-content-center mt-3 mb-3">

    <%= form_with(url: search_path, method: :get, local: true, class: "d-flex me-3") do |form| %>
    <%= form.text_field :word, placeholder: "検索ワード", class: "form-control me-2" %>
    <%= form.select(:range, ["User","Book"],{}, { class: "form-select me-2"}) %>
    <%= form.select(:search, [["完全一致", "perfect_match"],["前方一致","forward_match"], ["後方一致","backward_match"],["部分一致","partial_match"]], {}, {class: "form-select me-2" }) %>
    <%= form.submit "検索", class: "btn btn-outline-dark" %>
  <% end %>
  
      <%= form_tag(search_tag_path, method: :get, class: "form-inline") do %>
        <%= text_field_tag :tag, params[:tag], placeholder: "タグ検索", class: "form-control me-2" %>
        <%= submit_tag "タグ検索", class: "btn btn-outline-dark" %>
      <% end %>

    </div>
    <% end %>

      <h2>Books</h2>

      <div class="mb-3">
        <%= link_to '新しい順',
        books_path(sort: 'new'), class: "btn btn-outline-primary btn-sm mr-2" %>
        <%= link_to '評価の高い順',
        books_path(sort: 'high_rate'), class: "btn btn-outline-primary btn-sm" %>
      </div>
      <%= render 'index', books: @books%>
    </div>
  </div>
</div>